<!DOCTYPE html>
<html style="height: 100%">
<body style="height: 100%; overflow: hidden;">

<h1>Web Browser Controls</h1>

<!-- horizon -->
<div style="
  position: fixed;
  top: -50%; left: -50%;
  height: 200%; width: 200%;
  z-index: -1;
">

  <div style="
    width: 100%;
    height: 100%;
    background-image: url(/files/horizon.png);
    background-repeat: no-repeat;
    background-size: cover;
    transform: rotate(0deg);
  ">&nbsp;</div>
  
</div>

<!-- steering wheel -->
<div style="
  width: 100%;
  height: 100%;
  background-image: url(/files/steering_wheel.png);
  background-repeat: no-repeat;
  background-size: cover;
">&nbsp;</div>

<script>
const ACCEL_G = 9.81;
const MAX_SPEED = 255;

var slider = document.getElementById("range1");
var output = document.getElementById("range1_value");
output.innerHTML = slider.value;

slider.oninput = function() {
  output.innerHTML = slider.value;
  var xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
    }
  };
  xhttp.open("GET", "/set_speed?speed=" + slider.value, true);
  xhttp.send();
};

window.ondevicemotion = function(event) {
  let rotation = Math.acos( event.accelerationIncludingGravity.y / ACCEL_G );



};

</script>

</body>
</html>
